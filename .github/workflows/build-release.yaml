name: Build Release

on:
  workflow_dispatch:

permissions:
  id-token: write
  contents: write
  
jobs:
    build-win:
        runs-on: ubuntu-latest
        strategy:
            fail-fast: false
  
        steps:
        - uses: actions/checkout@v4
      
        - uses: actions/setup-python@v5
          with:
            python-version: 3.12
          
        - name: Download artifact
          id: download-artifact
          uses: dawidd6/action-download-artifact@v9
          with:
            # Optional, GitHub token, a Personal Access Token with `public_repo` scope if needed
            # Required, if the artifact is from a different repo
            # Required, if the repo is private a Personal Access Token with `repo` scope is needed or GitHub token in a job where the permissions `action` scope set to `read`
            github_token: ${{secrets.GITHUB_TOKEN}}
            # Optional, workflow file name or ID
            # If not specified, will be inferred from run_id (if run_id is specified), or will be the current workflow
            workflow: build-win.yaml
            # If no workflow is set and workflow_search set to true, then the most recent workflow matching
            # all other criteria will be looked up instead of using the current workflow
            workflow_search: false
            # Optional, the status or conclusion of a completed workflow to search for
            # Can be one of a workflow conclusion:
            #   "failure", "success", "neutral", "cancelled", "skipped", "timed_out", "action_required"
            # Or a workflow status:
            #   "completed", "in_progress", "queued"
            # Use the empty string ("") to ignore status or conclusion in the search
            workflow_conclusion: success

        - name: List
          run: |
            ls